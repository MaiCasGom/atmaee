dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
print(dia)
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=month.abb[m], ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
print(dia)
print(mes)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
print(dia)
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=month.abb[m], ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
print(dia)
print(mes)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
print(dia)
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=month.abb[m], ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
print(dia)
print(mes)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
print(dia)
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m],month.abb[m+1]), ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
print(dia)
print(mes)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
print(dia)
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(quickplot(matrizDatosTrimestre$date ,datosMes$'2017' , geom = "line", xlab = "", ylab = "Consumo (w/h)", ylim = c(-10000,35000), main = paste("AÃ±o", y, sep = " ")))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
print(dia)
print(mes)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
print(dia)
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(quickplot(matrizDatosTrimestre$date ,datosMes$'2017' , geom = "line", xlab = "", ylab = "Consumo (w/h)", ylim = c(-10000,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
View(matrizDatosTrimestre)
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
print(dia)
print(mes)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
print(dia)
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(quickplot(datosMes$'2017' , geom = "line", xlab = "", ylab = "Consumo (w/h)", ylim = c(-10000,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(quickplot(datosMes$'2017' , geom = "line", xlab = "", ylab = "Consumo (w/h)", ylim = c(-10000,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(quickplot(matrizDatosTrimestre$'2017' , geom = "line", xlab = "", ylab = "Consumo (w/h)", ylim = c(-10000,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(quickplot(matrizDatosTrimestre[,'2017'] , geom = "line", xlab = "", ylab = "Consumo (w/h)", ylim = c(-10000,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
#print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
#print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000), bg = "grey"))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000), bg = "grey"))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
meses <- sort(unique(month(SumaTotalPorFecha$date)))
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000), bg = "gray"))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000), bg = "blue"))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
matrizDatosTrimestre <- na.omit(matrizDatosTrimestre)
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
#matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
View(matrizDatosTrimestre)
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
#matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(na.approx(matrizDatosTrimestre), type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
library(zoo)
install.packages("na.tools")
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
#matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(na.approx(matrizDatosTrimestre), type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
install.packages("zoo")
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
#matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(na.approx(matrizDatosTrimestre), type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
library(zoo)
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
#matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(na.approx(matrizDatosTrimestre), type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres interpolado.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
#matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(na.approx(matrizDatosTrimestre), type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo trimestres.pdf",width=6,height=4,paper='special')
for(m in c(1,4,7,10)){
datosTrimestre <- subset(SumaTotalPorFecha, (month(SumaTotalPorFecha$date) == m | month(SumaTotalPorFecha$date) == m+1 |  month(SumaTotalPorFecha$date) == m+2 ))
matrizDatosTrimestre <- matrix(nrow=93, ncol=length(anios))
colnames(matrizDatosTrimestre) <- c(anios)
#matrizDatosTrimestre[] <- NA
for(row in 1:nrow(datosTrimestre)) {
dia <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%d"),base = 10L)
mes <- strtoi(format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%m"),base = 10L)
dia <- dia + (((mes - 1) %% 3) * 31)
anio <- format(as.Date(datosTrimestre[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosTrimestre[dia, anio] <- datosTrimestre[row, "x"]
}
nn <- ncol(matrizDatosTrimestre)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(matrizDatosTrimestre, type="l", lty = "solid", col = 1:6, xlab=c(month.abb[m]), ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosTrimestre),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
pdf("Consumo mes a mes.pdf",width=6,height=4,paper='special')
for(m in meses){
datosMes <- subset(SumaTotalPorFecha, month(SumaTotalPorFecha$date) == m)
matrizDatosMes <- matrix(nrow=31, ncol=length(anios))
colnames(matrizDatosMes) <- c(anios)
matrizDatosMes[] <- NA
for(row in 1:nrow(datosMes)) {
dia <- format(as.Date(datosMes[row, "date"],format="%Y-%m-%d"), format = "%d")
anio <- format(as.Date(datosMes[row, "date"],format="%Y-%m-%d"), format = "%Y")
matrizDatosMes[strtoi(dia, base = 10L), anio] <- datosMes[row, "x"]
}
nn <- ncol(matrizDatosMes)
layout(matrix(c(1,2),nrow=1), width=c(3,1))
par(mar=c(4,3,3,0)) #No margin on the right side
print(matplot(na.approx(matrizDatosMes), type="l", lty = "solid", col = 1:6, xlab=month.abb[m], ylab="Consumo (w/h)", ylim = c(0,35000)))
print(plot(c(0,1),type="n", axes=F, xlab="", ylab=""))
print(legend("left", colnames(matrizDatosMes),col=seq_len(nn),cex=0.8,fill=seq_len(nn)))
}
dev.off()
